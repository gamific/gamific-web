
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model  Vlast.Gamific.Model.Account.Domain.UserProfileEntity

@using GridMvc.Html

<div>
    <div class="pageheader">
        <h2><i class="fa fa-building"></i> Editar Perfil</h2>
    </div>
    <div class="main">
        <div class="row">
            <div class="col-md-12">
                <section class="tile color transparent-black">
                    <div class="tile-body">
                        <div class="user-card">
                            <ul class="profile-controls inline">
                                <li class="avatar"><img src="/api/media/@ViewBag.LogoId" alt="" class="img-circle profile-photo"></li>
                            </ul>
                            <h3>@Model.Name</h3>
                        </div>

                        <br />
                        <br />
                        <form action="/admin/usuario/perfil/salvar" method="post" enctype="multipart/form-data" class="form-horizontal" role="form">
                            <span style="display:none">
                                @Html.HiddenFor(model => model.Id);
                            </span>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Name, "Nome*:", new { @class = "col-sm-4 control-label" })
                                <div class="col-sm-4">
                                    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", @tabindex = "1" } })
                                    @Html.ValidationMessageFor(model => model.Name, "O campo Nome é obrigatório.", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(model => model.CPF, "CPF*:", new { @class = "col-sm-4 control-label" })
                                <div class="col-sm-4">
                                    @Html.EditorFor(model => model.CPF, new { htmlAttributes = new { @class = "form-control", @tabindex = "3" } })
                                    @Html.ValidationMessageFor(model => model.CPF, "O campo CPF é obrigatório.", new { @class = "text-danger" })
                                </div>
                            </div>


                            <br />
                            <br />
                            <div class="form-group">
                                @Html.LabelFor(model => model.Email, "Email*:", new { @class = "col-sm-4 control-label" })
                                <div class="col-sm-4">
                                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @tabindex = "4" } })
                                    @Html.ValidationMessageFor(model => model.Email, "O campo Email é obrigatório.", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(model => model.Phone, "Telefone*:", new { @class = "col-sm-4 control-label" })
                                <div class="col-sm-4">
                                    @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control", @tabindex = "5" } })
                                    @Html.ValidationMessageFor(model => model.Phone, "O campo Telefone é obrigatório.", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-4 control-label">Avatar*:</label>
                                <div class="col-sm-4">
                                    <input tabindex="7" class="form-control" type="file" id="logoUpload" name="logoUpload" onchange="loadLogo(this);" onclick="loadLogo(this);" />
                                    <div style="cursor:pointer;width:100%; background:url('');background-repeat:no-repeat;background-size:cover" onclick="document.getElementById('logoUpload').click();">
                                        <img id="img" name="img" src="/api/media/@ViewBag.LogoId?cache=@Html.Raw(DateTime.Now.Millisecond)" style="max-width:100%;max-height:160px" />
                                    </div>
                                </div>
                            </div>

                            <br />

                            <br /><br />

                            <div class="form-group form-footer">
                                <div class="col-sm-offset-4 col-sm-8">
                                    <button class="btn btn-primary" type="submit">Salvar</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>

<script src="/Content/Js/app/userProfile.js" charset="iso-8859-1"></script>